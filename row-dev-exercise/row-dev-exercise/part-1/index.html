 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Part 1</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1">
  <link rel= "stylesheet" type="text/css" href="./assets/style.css" />

</head>
<body>
    <h1>Weather Report</h1>
</br>
 
  <!-- Current conditions for Palo Alto  -->
  <div id="content">
   
    
  
    <!-- Creating Cities Drop-down Menu -->
  <div id="menu"> 

    <!--Selecting a City  -->
    <select id ="places" onchange="show (this)">
      <option value="">Choose a City</option>
    
    </select>

 <script type="text/javascript">

   var weatherJsonpCallback = function(data){
    console.log(data);

    const cities = data.cities;
    
    // appending cities 9(Palo Alto) to the content div, so it will print on the page. 
      document.getElementById("content").append(data.cities[9].geoloc.city, ' ');
    
      // Adding the hourly temperature and condition for Palo Alto on Friday to the content div. 
      document.getElementById("content").append(cities[9].current[0].temp ,'Â°', ' ');
      document.getElementById("content").append(cities[9].current[0].condition);
    
      
       // Populating cities
  //      let dropdown = document.getElementById('places')
  //        dropdown.length = 0;

  //        let defaultOption = document.createElement('option');
  //        defaultOption.text = 'Choose City';

  //          dropdown.add(defaultOption);
  //          dropdown.selectedIndex = 0;

  //         const url = 'https://restofworld.org/wp-content/projects/code/exercise/data/weather.js? callback = weatherJsonpCallback'';

  //         const request = new XMLHttpRequest();
  //         request.open('GET', url, true);

  //         request.onload = function() {
  //       if (request.status === 200) {
  //       const data = JSON.parse(request.responseText);
  //       let option;
  //       for (let i = 0; i < data.length; i++) {
  //       option = document.createElement('option');
  //       option.text = data[i].name;
  //       option.value = data[i].abbreviation;
  //       dropdown.add(option);
  //     }
  //   } else {
  //     // Reached the server, but it returned an error
  //   }   
  // }

  //   request.onerror = function() {
  //   console.error('An error occurred fetching the JSON from ' + url);
  //   };

  // request.send();

       



       //  Weekly Forecast
         var daily= cities[9].weekly;
          console.log(daily);
          
          // Used the forEach method to have each day individually print to the console.
          daily.forEach(element => {
           console.log(element.day);
            if(element => 10){
              console.log(element.daycondition );
           }
           //  Adding days of the week and Weather condition.
           document.getElementById("forecast").append(element.day , ':' ); 
            document.getElementById("forecast").append(element.daycondition , ' ' , ' ');

  
           
          });
       }
      
     
      </script>
   <!-- Current weekly forecast for Palo Alto -->
      	<div id="forecast">

		</div>
	</div>
</div>

    <script type="text/javascript" src='https://restofworld.org/wp-content/projects/code/exercise/data/weather.js? callback = weatherJsonpCallback'> 
    
  </script>  
  <!-- <script src="./weather.js"  type="text/javascript"> -->

  </script>
	
</body>
</html>